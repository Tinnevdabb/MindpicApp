<template name="uploadimage">
  <div class="navbar navbar-inverse bg-faded">
    <ul class="nav navbar-nav">
      <li class="pull-left">
        <a href="/camera"><span class="glyphicon glyphicon-arrow-left" style="color:white"></span></a>
      </li>
      <li>
        <a class="navbar-brand star" style="color:white">Upload image</a>
      </li>
    </ul>
  </div>
  {{> uploadForm}}

  {{> uploadedFiles}}
</template>

<template name="uploadForm">
  {{#with currentUpload}}
    Uploading <b>{{file.name}}</b>:
    <span id="progress">{{progress.get}}%</span>
  {{else}}
    <input id="fileInput" type="file" />
    <p><small>Upload file in <code>jpeg</code> or <code>png</code> format, with size less or equal to 10MB</small></p>
  {{/with}}

</template>

<template name="uploadedFiles">
  {{#if uploadedFiles.count}}
    <table>
      {{#each file in uploadedFiles.each}}
        <tr>
          <td>
          <a href="{{file.link}}?download=true" download="{{file.name}}">{{file.name}}</a>
          </td>
          <td>
          <button class="btn btn-danger" ng-bootbox-custom-dialog="Are you sure you want to remove this image?" >
              <i class="glyphicon glyphicon-remove"> </i>
          </button>
          </td>
        </tr>
      {{/each}}
    </table>
  {{else}}
    <div>No files uploaded, yet</div>
  {{/if}}
</template>
